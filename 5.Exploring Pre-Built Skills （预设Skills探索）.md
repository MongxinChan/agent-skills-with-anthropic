# 第五节：Exploring Pre-Built Skills（预设Skills探索）

### anthropic>skills 仓库（预设 Skills）

<aside>
🎯

**目标**：快速浏览 Anthropic 官方 Skills 仓库，重点看 *Office 文档类 Skills*（xlsx / docx / pdf / pptx），并定位本地创建与更新 Skills 的入口。

</aside>

#### 1) 官方入口（先收藏）

- 总仓库：[anthropics/skills](https://github.com/anthropics/skills)
- 机制说明：[Skills explained](https://www.claude.com/blog/skills-explained)

#### 2) Office 文档类 Skills（四件套目录）

- xlsx：[skills/xlsx](https://github.com/anthropics/skills/tree/main/skills/xlsx)
- docx：[skills/docx](https://github.com/anthropics/skills/tree/main/skills/docx)
- pdf：[skills/pdf](https://github.com/anthropics/skills/tree/main/skills/pdf)
- pptx：[skills/pptx](https://github.com/anthropics/skills/tree/main/skills/pptx)

#### 3) 重点看的代码路径（skill-creator）

- `skills/skill-creator/scripts/`
    - 这块通常是“把一个 skill 从模板/配置变成可运行产物”的流水线入口。
    - 建议优先读的内容：
        - **入口脚本**：从哪里开始执行（通常会有一个主脚本/命令行入口）
        - **配置读取**：skill 的描述、参数、依赖、元信息是怎么被解析的
        - **产物生成**：最终生成了哪些文件，目录结构是什么
        - **打包/发布**：是 zip 还是某种 manifest，如何对接到 Desktop 端
    - 你可以带着 3 个问题去看：
        1. “我改了 prompt 或配置，哪些文件会变？”
        2. “更新动作的最小输入是什么（哪些字段必填）？”
        3. “失败时能从哪里定位（日志/报错点/中间产物）？”

#### 4) Claude Desktop：Skill Creator（本地迭代入口，做实验用）

- **它是什么**：Claude Desktop 里的一个能力开关，用来让 Desktop 识别并加载本地 Skills，并在你修改后触发更新。
- **适用场景**：
    - 你想把官方仓库的 skill 当作“样板”，复制到本地后做小改动（例如改 prompt、改参数、改数据源），然后在 Desktop 里直接试跑。
    - 你要快速验证“某个 skill 的结构长什么样”“需要哪些文件”“哪些字段是必须的”。
- **路径**：`Claude Desktop > Capabilities > Skill Creator`
- **开启后会发生什么**：
    - Desktop 会多出和 skill 相关的本地能力入口。
    - 你对本地 skill 的变更可以被 Desktop 识别，并通过 update 流程加载最新版本（具体表现因版本不同而不同）。
- **使用方式（最小闭环）**：
    1. 从官方仓库挑选一个 skill（优先选最简单、依赖少的）
    2. copy 到本地 Skills 目录（保持原始结构，先不要“扁平化”）
    3. 只改一处（例如 prompt）并记录改动点
    4. 通过 Skill Creator 触发 update
    5. 回到 Desktop 测试：输入一个最小样例，确认行为是否变化
- **排障建议（最常见的 3 类问题）**：
    - Desktop 看不到 skill：先检查开关是否开启，其次确认本地目录结构是否符合预期。
    - update 没生效：确认你修改的是 Desktop 会读取/打包的文件，而不是未被引用的草稿文件。
    - 运行时报错：优先找日志/控制台输出，再回到 `skill-creator/scripts/` 看报错对应的阶段（解析、生成、打包、加载）。
- **注意**：不同版本的 Claude Desktop 菜单名称可能略有差异；以 *Capabilities* 页面内是否出现 *Skill Creator* 为准。

#### 5) Skill Creator

![alt text](./images/5.1.png)

![alt text](./images/5.2.png)

---

### 相关示例与灵感

#### BigQuery（示例：把数据仓库查询变成可复用的 Skill）

![alt text](./images/5.3.png)

- **它解决的问题**：把“写 SQL + 解释结果 + 二次追问”这条链路变成一个可复用的技能。
- **典型用法**：
    - 给定一个业务问题，Skill 自动生成/选择合适的 SQL。
    - 在 BigQuery 里执行查询。
    - 把结果整理成可读的表格/要点，并给出下一步建议（例如再查一个维度、做同比/环比、补一个过滤条件）。
- **适合封装成 Skill 的原因**：
    - BigQuery 的权限、项目、数据集、表名等上下文一旦固定，后续就是重复的“查询—解释—迭代”。
    - Skill 可以把“公司内部数据口径”固化成提示词/规则，减少每次都重新对齐。

#### BigQuery 的使用（建议关注的流程与细节）

![alt text](./images/5.4.png)

![alt text](./images/5.5.png)

![alt text](./images/5.6.png)

![alt text](./images/5.7.png)

- **最小闭环（从 0 到 1）**：
    1. 明确查询范围：Project / Dataset / 目标表
    2. 约定输入：用户给自然语言问题，还是给字段 + 过滤条件
    3. 生成 SQL：优先可读、可审计（避免一上来就写很复杂的嵌套）
    4. 执行查询并拿到结果：控制返回行数与列数，避免一次拉太多
    5. 结果解释：把关键指标、口径、异常点写清楚
    6. 二次追问：把“下一步推荐查询”作为输出的一部分
- **安全与稳定性要点**：
    - **只读优先**：默认只允许 `SELECT`，避免误写入/误删。
    - **参数化**：对日期、用户输入的过滤条件尽量参数化，减少注入风险。
    - **成本控制**：限制扫描数据量与返回行数；对大表先做采样或加分区过滤。
    - **错误处理**：把常见 SQL 错误（字段不存在、权限不足、分区过滤缺失）整理成可读提示。
- **把它写成 Skill 的“接口”建议**（便于长期复用）：
    - 输入：问题描述 +（可选）时间范围 +（可选）业务维度
    - 输出：SQL（可复制）+ 结果摘要 + 指标口径说明 + 下一步查询建议
    - 日志：记录最后一次成功 SQL，方便复现与对齐

#### 使用最佳实践（Best Practice）更新 Skills

![alt text](./images/5.8.png)

#### Brand Design 的 Skill

![alt text](./images/5.9.png)

![alt text](./images/5.10.png)

### 操作备忘

- copy the skills —— 保存 skills 到 Claude

[返回目录](./README.md)